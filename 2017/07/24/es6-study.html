<!DOCTYPE html>
<html lang="">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="ES6学习笔记"/>




  <meta name="keywords" content="javascript," />





  <link rel="alternative" href="/default" title="Seymour" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=10001" />



<link rel="canonical" href="http://yoursite.com/2017/07/24/es6-study.html"/>


<meta name="description" content="ECMAScript 6（以下简称 ES6）是 javascript 语言的下一代标准。因为当前版本的 ES6 是在 2015 年发布的，所以又称 ECMAScript 2015, ECMAScript是一个标准，从1.0发展至今，目前已经进入ES7草案阶段, 其中有两个版本是我们所熟知的，ECMAScript 3.1 和 ECMAScript 5.0，旧版的 IE 实现都是基于 3.1 规范，而">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6学习笔记">
<meta property="og:url" content="http://yoursite.com/2017/07/24/es6-study.html">
<meta property="og:site_name" content="Seymour">
<meta property="og:description" content="ECMAScript 6（以下简称 ES6）是 javascript 语言的下一代标准。因为当前版本的 ES6 是在 2015 年发布的，所以又称 ECMAScript 2015, ECMAScript是一个标准，从1.0发展至今，目前已经进入ES7草案阶段, 其中有两个版本是我们所熟知的，ECMAScript 3.1 和 ECMAScript 5.0，旧版的 IE 实现都是基于 3.1 规范，而">
<meta property="og:updated_time" content="2017-07-24T10:58:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6学习笔记">
<meta name="twitter:description" content="ECMAScript 6（以下简称 ES6）是 javascript 语言的下一代标准。因为当前版本的 ES6 是在 2015 年发布的，所以又称 ECMAScript 2015, ECMAScript是一个标准，从1.0发展至今，目前已经进入ES7草案阶段, 其中有两个版本是我们所熟知的，ECMAScript 3.1 和 ECMAScript 5.0，旧版的 IE 实现都是基于 3.1 规范，而">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=10001" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> ES6学习笔记 - Seymour </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Seymour</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/github">
                            
                            
                                Github
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          ES6学习笔记
        
      </h1>

      <time class="post-time">
          Jul 24 2017
      </time>
    </header>



    
            <div class="post-content">
            <p>ECMAScript 6（以下简称 ES6）是 javascript 语言的下一代标准。因为当前版本的 ES6 是在 2015 年发布的，所以又称 ECMAScript 2015, ECMAScript是一个标准，从1.0发展至今，目前已经进入<a href="https://tc39.github.io/ecma262/" target="_blank" rel="external">ES7草案阶段</a>, 其中有两个版本是我们所熟知的，ECMAScript 3.1 和 ECMAScript 5.0，旧版的 IE 实现都是基于 3.1 规范，而 IE9 以后及现代浏览器基本都依照 ES5.0 规范。</p>
<h2 id="新增块级作用域（let与const关键字）">新增块级作用域（let与const关键字）</h2><h3 id="let声明变量">let声明变量</h3><p>在ES5中，除了全局作用域外，限定所声明的变量的作用域是函数作用域，这使得ES5在很多情况下为了模拟块级作用域(避免变量名污染)需要立即执行的匿名函数，在ES6中新增了声明块级作用域变量的关键字<code>let</code>，使用<code>let</code>声明的变量有如下特点：</p>
<ul>
<li><code>let</code>声明的变量，只在let命令所在的代码块内有效。</li>
<li><code>let</code>声明的变量不存在变量的提升。</li>
<li><code>let</code>不允许重复声明同一个变量，否则会报错。使用<code>let</code>可以替代ES5中为了模拟块级作用域而使用的立即执行的匿名函数。</li>
</ul>
<figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES6实现方法</span></span><br><span class="line">for <span class="comment">(let i = 0; i &lt; 10; i++)</span> &#123;</span><br><span class="line">	<span class="comment">// code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5实现方法</span></span><br><span class="line"><span class="comment">(function()</span>&#123;</span><br><span class="line">	for<span class="comment">(var i = 0; i &lt; 10; i++)</span> &#123;</span><br><span class="line">		<span class="comment">// code</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)<span class="comment">()</span></span><br></pre></td></tr></table></figure>
<h3 id="ES6的块级作用域">ES6的块级作用域</h3><ul>
<li>用<code>{}</code>来限定一个块级作用域，对于块级作用域的出现，使得广泛应用立即执行的匿名函数不在必要了。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> tmp = <span class="number">10</span>;</span><br><span class="line">	<span class="comment">// code</span></span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6块级</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> tmp = <span class="number">10</span>;</span><br><span class="line">	<span class="comment">// code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>允许块级作用域的任意嵌套。</li>
<li>外层作用域无法读取内层作用域的变量。</li>
<li>内层作用域可以定义外层作用域的同名变量。</li>
<li>ES6 引入了块级作用域，明确允许在块级作用域之中声明函数。ES5规定，<strong>函数只能在顶层作用域和函数作用域中声明，不能再块级作用域声明。</strong>但考虑到环境的差异，应该避免在块级作用域内声明函数，如果确实需要，也应该写成函数表达式，而不是函数声明语句。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">let</span> v = <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> v;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="const">const</h3><p>由于之前的ES5没有常量严格的限定，在新的ES6引入<code>const</code>来声明一个常量，对于常量有如下特点。</p>
<ul>
<li><code>const</code>声明的常量，常量的值就不能改变。</li>
<li><code>const</code>一旦声明变量，就必须立即初始化，不能留到以后赋值。</li>
<li><code>const</code>与<code>let</code>命令相同，只在声明所在的块级作用域内有效，不能重复定义。</li>
</ul>
<h3 id="顶层对象的属性">顶层对象的属性</h3><p>顶层对象，在浏览器环境指的是window对象，在Node指的是global对象。ES5之中，所有全局变量都是全局对象的属性。</p>
<p>ES6为了改变这一点，一方面规定，为了保持兼容性，var命令和function命令声明的全局变量，依旧是顶层对象的属性；另一方面规定，let命令、const命令、class命令声明的全局变量，不属于顶层对象的属性。也就是说，从ES6开始，全局变量将逐步与顶层对象的属性脱钩。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">window</span>.a; <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">window</span>.b; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<h2 id="变量的解构赋值">变量的解构赋值</h2><p>ES6中新增了一种赋值方法，可以批量地从对象（或数组）中提取出相应的值赋值到一组对应的变量上。</p>
<h3 id="数组的解构赋值">数组的解构赋值</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">let [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相当于</span></span><br><span class="line">var a = <span class="number">1</span>, b = <span class="number">2</span>, c = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">let [head, ...end] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">head <span class="comment">// 1</span></span><br><span class="line">end <span class="comment">// [2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 相当于</span></span><br><span class="line">var head = <span class="number">1</span>, end = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br></pre></td></tr></table></figure>
<p><strong>解构赋值允许指定默认值</strong></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="variable"><span class="keyword">var</span> [foo</span> = <span class="literal">true</span>] = [];</span><br><span class="line">foo <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="对象的解构赋值">对象的解构赋值</h3><p>对象的解构赋值与数组有一个重要的不同，数组的元素是按次序排列的，变量的取值由它的位置觉得，而对象的属性没有次序，变量必须与属性同名，才能得到正确的值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 对象解构赋值方式一</span></span><br><span class="line"><span class="keyword">let</span> &#123;uid, gid&#125; = &#123;gid: <span class="number">100</span>, uid: <span class="number">101</span>&#125;;</span><br><span class="line"></span><br><span class="line">uid <span class="comment">// 101</span></span><br><span class="line">gid	<span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象解构赋值方式二</span></span><br><span class="line"><span class="keyword">let</span> &#123;first: f, last: l&#125; = &#123;first: <span class="string">"hello"</span>, last: <span class="string">"world"</span>&#125;</span><br><span class="line">f <span class="comment">// 'hello'</span></span><br><span class="line">l <span class="comment">// 'world'</span></span><br></pre></td></tr></table></figure>
<h3 id="变量的解构赋值用途">变量的解构赋值用途</h3><ul>
<li>交换变量的值。<code>[x, y] = [y, x]</code>。</li>
<li>从函数返回多个值。</li>
<li>解构赋值可以很方便将一组参数与变量名对应起来。</li>
<li>解构赋值方便提取json对象中的数据。</li>
<li>遍历Map结构，<code>for (let [key, value] of map) { // code }</code>。</li>
<li>加载模块时指定输入方法，<code>const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;);</code>。</li>
</ul>

            </div>
          

    
      <footer class="post-footer">
        <div class="post-tags">
          
            <a href="/tags/javascript/">javascript</a>
          
        </div>

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017/08/23/laravel-package-development.html">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">laravel包开发</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2016/12/18/title: chrome插件(extension)开发.html">
        <span class="next-text nav-default">chrome插件(extension)开发</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2017
    <span class="footer-author">Seymour.</span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=10001"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=10001"></script>

  </body>
</html>
